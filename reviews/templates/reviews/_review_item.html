<!-- reviews/templates/reviews/_review_item.html -->

<div id="review-{{ review.id }}" class="border-b border-gray-200 py-4">
  <!-- Header user -->
  <div class="flex items-center justify-between">
    <div class="flex items-center gap-2">
      <div class="font-semibold text-gray-900">{{ review.user.username }}</div>
      <div class="text-sm text-gray-500">{{ review.created_at|timesince }} lalu</div>
    </div>
    <div class="flex items-center text-yellow-500 font-medium">
      {% for i in "12345" %}
        {% if forloop.counter <= review.rating %}
          <span>★</span>
        {% else %}
          <span class="text-gray-300">★</span>
        {% endif %}
      {% endfor %}
    </div>
  </div>

  <!-- Isi review -->
  {% if review.comment %}
    <p class="mt-2 text-gray-800 leading-relaxed">{{ review.comment }}</p>
  {% endif %}

  <!-- Balasan admin -->
  {% if review.reply %}
    <div class="mt-3 ml-5 pl-4 border-l-4 border-blue-300 bg-blue-50 rounded-lg">
      <div class="text-sm text-gray-700">
        <strong>Admin ({{ review.reply.admin.username }})</strong> • {{ review.reply.created_at|timesince }} lalu
      </div>
      <p class="mt-1 text-gray-800">{{ review.reply.reply_text }}</p>
    </div>
  {% else %}
    <div class="mt-3 ml-5 pl-4 border-l-4 border-gray-200 italic text-sm text-gray-500">
      ↳ Belum ada balasan dari admin
    </div>
  {% endif %}
</div>
