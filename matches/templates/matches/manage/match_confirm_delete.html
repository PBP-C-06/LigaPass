{% extends 'base.html' %}

{% block title %}Hapus Pertandingan{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto bg-white p-8 rounded-lg shadow-md border border-slate-200 text-center">
  <h1 class="text-2xl font-bold text-red-700 mb-4">Konfirmasi Hapus</h1>
  
  <form id="delete-form" method="post">
    {% csrf_token %}
    <p class="text-slate-700">
      Apakah Anda yakin ingin menghapus pertandingan 
      <strong class="font-semibold">{{ object.home_team.name }} vs {{ object.away_team.name }}</strong>
      pada <strong class="font-semibold">{{ object.date|date:"d M Y" }}</strong>?
    </p>
    <p class="text-sm text-red-600 mt-2">Tindakan ini tidak dapat dibatalkan.</p>
    
    <div class="mt-8 flex justify-center space-x-4">
      <a href="{% url 'matches:manage_matches' %}" class="rounded bg-gray-200 px-4 py-2 font-bold text-gray-700 hover:bg-gray-300">
        Batal
      </a>
      <button type="submit" id="delete-button" class="rounded bg-red-600 px-4 py-2 font-bold text-white hover:bg-red-700">
        Ya, Hapus
      </button>
    </div>
  </form>
</div>
{% endblock %}

{% block scripts %}
{{ block.super }}
<script>
document.addEventListener('DOMContentLoaded', function() {
  const form = document.getElementById('delete-form');
  const deleteButton = document.getElementById('delete-button');

  if (form && deleteButton) {
    
    deleteButton.addEventListener('click', function(e) {
      e.preventDefault();
      
      window.showConfirmationModal(
        'Konfirmasi Penghapusan',
        'Tindakan ini tidak dapat diurungkan. Ketik <strong>CONFIRM</strong> untuk menghapus pertandingan ini.',
        function() {
          form.submit(); 
        }
      );
    });
  }
});
</script>
{% endblock %}